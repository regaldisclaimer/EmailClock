<!-- Copyright (c) Regal Disclaimer All Rights Reserved.
Contact: regaldisclaimer@gmail.com for all usage permissions -->
<html>
	<head>
		<title>EmailClock Beta</title>


		<link href='http://fonts.googleapis.com/css?family=Roboto:400,300,700' rel='stylesheet' type='text/css'>
		<link rel='stylesheet' href='switch.css'>
		<link rel='stylesheet' type='text/css' href='index.css'> 

		<link rel="apple-touch-icon" href="icons/favicon.png">
  		<link rel="apple-touch-icon-precomposed" href="icons/favicon.png">
		<link rel="icon" type="image/png" href="icons/favicon.png">

		<meta name="mobile-web-app-capable" content="yes">
		<link rel="shortcut icon" sizes="128x128" href="#">
		<link rel="shortcut icon" sizes="196x196" href="#">
		<link rel="shortcut icon" sizes="256x256" href="#">

	</head>
	
	<body>
			<div id='homeGroup'>
			<div id='titleDiv'>
				<p id='titleP'>
					<hr>
					<img src='icons/favicon.png' id='titleImage'></img>
					EmailClock<hr>
				</p>
					
			</div>
			<div id='headline'>
				<p>
					
					EmailClock, the helpful time reminder
				</p>
			</div>
			<div id='subheading'>
				<p>
					EmailClock sends you an email every hour to remind you of the current time!
				</p>
				<p>
					Need an email every minute? Not a problem with EmailClock!
				</p>
			</div>
			<br />
			<div>

				<input id='emailInput' type='email' placeholder='email'></input>
				<input id='startButton' type='submit' value='Start the EmailClock!' onclick='goToPurchase(false)' />

			</div>
			<br />
			<br />
			<p>
				***
			</p>
			<br />
			<hr />
			<p>
				<i>*Experimental*:</i> Send <b>text messages</b> instead of emails! (Select US carriers only)
			</p>
			<p>
				This is an experimental feature, and delivery is not guaranteed until further verification tests are conducted.
			</p>
			<div>
				<input id='textInput' placeholder='10-digit Number (e.g. 339-220-1182)'></input>
				<input id='textStart' type='submit' value='Start the TextClock!' onclick='goToPurchase(true)' />
			</div>

			<div class='warning'>
				<p>
					NB: Only use your own email address/phone number! Using someone else's address is strictly prohibited, and the recipient will be very annoyed!
				</p>
				<p>
					By clicking the button above, you agree to our <a href='#ToS'>Terms of Service</a>
				</p>
			</div>
			<hr />
			<div id='inter'>
				
				<p id='interP'><a href='http://regaldisclaimer.com'>A Regal Disclaimer Production</a></p>
				<p><span class="creditSpan">Copyright (c)</span>	<span class="creditSpan">Regal Disclaimer</span>	<span class="creditSpan">All Rights Reserved</span></p>
			</div>	
			<hr />
			<div id='ToS'>
				
				<p>Terms of Service:</p>
				<p>
					By using this service, you agree to use the software only as intended, and for personal use. For commercial usage is premitted only within the original intention of this application of personal time reminders via email.
				</p>
				<p>
					You further certify that information you provide, including but not limited to your email and purchase details, and you are solely responsible for damages incurred by the usage of this application.
				</p>
				<p>
					You agree to the charges precribed on the website for the services provided, and by submitting of payment information you agree for appropriate charges to be applied to the payment information provided, at any time after the submission of the information. Delay in charges incurred due to the service may occur on heavy traffic, and does not constitute changes on the payment due. 
				</p>
				<p>
					The paid services will start in effect upon successful completion of payment, which may be delayed due to unforeseen circumstances. Timely start of services upon payment information submission cannot be guaranteed, only the duration of the entire service. Once the service is initiated, it cannot be stopped, and has to complete to its full duration. Consequently, refunds for services cannot be arranged. Withdrawal or cancelling the payments without permission will open a case of unpaid balance. The user will be notified via email originally supplied, and the user has 168 hours to resolve the payment due before late fees are incurred. Initial late inconvenience fee is 20% of the total amount due, and 1% of total amount due will be applied monthly afterwards as further late fees, which compounds monthly. The service holds the right to report to credit report agencies on the late payments as deemed necessary.
				</p>
				<p>
					In the case of heavy usage, the application may be at capacity for services, upon which case, it will display a warning for new potential users, that the will be put on a waitlist. New services on the waitlist cannto be started, even upon successful payment, until the application is able to take on more load due to the completion of previous services. The services will be started from the waitlist in the order it was received, and services will be added to waitlists only after successful completion of payment.
				</p>
				<p>
					Successful and timely receipt of email is not guaranteed. Emails will be sent on time, but your email service provider may hinder with the timely delivery of emails. Failure to receive emails promptly due to spam filters, poor internet connection, latency, hindrance from email service provider, and problems with email client are not grounds for claim or refunds.
				</p>
				<p>
					This software and service is provied as is, and Regal Disclaimer and the associated do not hold liability of any possible damages or claims associated with this software and/or service.
				</p>
			</div>
		</div>
		<div id='purchaseGroup' style='display:none;'>
			<hr />
			<div id='pHeadline'>
				<p></p>
			</div>
			<hr />
			<div id='Options'>

			</div>
			<div id='selectPlan'>
				<p>Customize the details of your plan!</p>
				<p>The base service rate is $1 per 250 emails. (Now that's a lot of emails!)</p>
				<p>And $1 per 50 text messages</p>
				<hr />
				<div class ='inline' id='carrierSelect' style='display:none;'>
					<label for='carrierInput'>IMPORTANT: Choose a cell carrier for the phone number</label>
					<select id='carrierInput'>
						<option>ACS Wireless</option>
						<option>Alltel</option>
						<option>AT&T</option>
						<option>Boost Mobile</option>
						<option>Comcast</option>
						<option>Metro PCS</option>
						<option>Sprint</option>
						<option>T-Mobile</option>
						<option>US Cellular</option>
						<option>Verizon</option>
						<option>Virgin</option>
					</select>
				</div>
				<label id='hourMinuteLabel' class="switch-light switch-candy" onclick="">
				  <input type="checkbox" id='hourMinute' checked='checked' onchange='updatePrice()'>
				  <span id='hourMinuteSpan'>
				    Frequency:
				    <span>Every Hour</span>
				    <span>Every Minute</span>
				  </span>
				  <a></a>
				</label>

				<div class='inline'>
					<label id='durationlabel' for='durationInput'>Duration:</label>
					<input id='durationInput' type='number' min='1' value='0' onchange='updatePrice()'>
				</div>
				<div class='inline'>				
					<label id='dayMonthLabel' class="switch-light switch-candy" onclick="">
					  <input type="checkbox" id='dayMonth' checked='checked' onchange='updatePrice()'>
					  <span id='dayMonthSpan'>
					  	<!-- Units -->
					    <span>days</span>
					    <span>months</span>
					  </span>
					  <a></a>
					</label>
				</div>
				<hr />
			</div>
			<div id='planSummary'>
				<p></p>
			</div>
			<div id='baseRate'>
				<p></p>
			</div>
			<hr />
			<div>
				<p>Please try again in 6 hours if the payment page is not available</p>
			</div>
			<div>
				<input id='checkOutButton' type='submit' value='Check Out! (Make sure all the info is correct!)' onclick='checkOut()'>
			</div>
			<div id='credit'>
				<div id='stripeScr'></div>
			</div>



		<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-54ad6bc83a3bc1fd" async="async"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	</body>
	<script>
	
	//
	console.log(window.location.href);


	//

	var emailAddr;
	//
	var isMinute;	//on or false
	var isMonths;	//on or false
	var durationVar;
	var numEmails;
	var amountVar;
	var descriptionVar;

	var isText;
	var cellCarrier;


	function updatePrice(){
		$(document).ready(function(){
			isMinute = ($('#hourMinute:checked').val() || false);
			isMonths = ($('#dayMonth:checked').val() || false);
			durationVar = +($('#durationInput').val());

			//on or false, these fellas.
			if (isMinute===false){
				//hourly
				if(isMonths===false){
					//days
					numEmails = 24*durationVar;
				} else {
					//months
					numEmails = 730*durationVar;
				}
			} else {
				//every minute
				if(isMonths===false){
					//days
					numEmails = 1440*durationVar;
				} else {
					//months
					numEmails = 43800*durationVar;
				}
			}

			if (isText){
				var text = 'A total of '+numEmails+' text messages will be sent during this plan!';
			} else {
				var text = 'A total of '+numEmails+' emails will be sent during this plan!';
			}
			$('#planSummary p').text(text);

			if(isText) {
				amountVar = (numEmails/50);
			} else {
				amountVar = (numEmails/250);
			}
			var text2 = 'The price at the base rate for this plan is: $'+amountVar;
			$('#baseRate>p').text(text2);
		});
	}


	function checkOut() {
		//check for minimum purchase price of $5
		if (amountVar<5){
			//does not meet plan minimum
			$(document).ready(function(){
				$('#baseRate').append("<div class='warning'><p>Please note: Minimum plan size is $5!</p></div>");
			});
			
		} else {

			var carrierCode = {
                "ACS Wireless": "ACS",
                "Alltel": "Alltel",
                "AT&T": "ATT",
                "Boost Mobile": "Boost",
                "Comcast": "Comcast",
                "Metro PCS": "MetroPCS",
                "Sprint": "Sprint",
                "T-Mobile": "TMobile",
                "US Cellular": "USCellular",
                "Verizon": "Verizon",
                "Virgin": "Virgin"
            }

            carrierResponse = $('#carrierInput').val();
            cellCarrier = carrierCode[carrierResponse];

			var destination = "https://emailclock.herokuapp.com/payment?"
			destination = destination+"isText="+isText;
			destination = destination+"&carrier="+cellCarrier;
			destination = destination+"&email="+emailAddr;
			destination = destination+"&minute="+isMinute;
			destination = destination+"&months="+isMonths;
			destination = destination+"&duration="+durationVar;

			window.location.href = destination;
		}
	}



	//

	function goToPurchase(textBool){
		isText = textBool;
		if (!isText) {
			$(document).ready(function(){
				emailAddr = $('#emailInput').val();
				var emailText = 'Choose your EmailClock plan for: '+emailAddr;
				$('#pHeadline p').text(emailText);
				$('#homeGroup').toggle(1000);
				$('#purchaseGroup').toggle(1000);
			});
		} else {
			$(document).ready(function(){
				emailAddr = $('#textInput').val().split('-').join('');
				if (emailAddr.length == 11) {
					emailAddr = emailAddr.substring(1);
				} else if (emailAddr.length == 10) {
					//normal
				} else {
					alert('Invalid Phone Number');
					return;
				}
				var emailText = 'Choose your EmailClock plan for: '+emailAddr;
				$('#pHeadline p').text(emailText);
				$('#homeGroup').toggle(1000);
				$('#purchaseGroup').toggle(1000);
				$('#carrierSelect').show();
			});

		}
	}







	</script>
</html>
